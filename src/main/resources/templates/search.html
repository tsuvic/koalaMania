<!doctype html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<head>
<meta charset="utf-8">
<meta name="viewport"
	content="width=device-width,initial-scale=1,maximum-scale=1">

<script th:src="@{/webjars/jquery/jquery.min.js}"></script>
<script th:src="@{/webjars/bootstrap/js/bootstrap.min.js}"></script>
<link rel="canonical"
	href="https://getbootstrap.jp/docs/5.0/examples/starter-template/">
<!-- Bootstrap core CSS -->
<link
	href=https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css
	rel="stylesheet"
	integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1"
	crossorigin="anonymous">

<!-- Custom styles for this template -->
<link href="/css/searchResult.css" rel="stylesheet">
<title th:text="${title}">検索画面</title>
</head>

<body>
	<div th:replace="~{block/header_boot::headerA_boot}"></div>

	<div class="searchResult-container">

		<br> <br> <br> 
		<form class="card-body row no-gutters align-items-center" method="get"
			th:action="@{/search}" th:object="${animalSearchForm}">
			<div class="col-auto">
				<i class="fas fa-search h4 text-body"></i>
			</div>
			<div class="col">
				<input class="form-control form-control-lg form-control-borderless"
					type="text" name="keyword" th:field="*{keyword}"
					placeholder="コアラ・動物園名">
			</div>
			<div class="col-auto">
				<button class="btn btn-lg btn-success" type="submit">検索</button>
			</div>
		</form>

		<!-- <h2 th:text="${searchResult}"></h2> -->
		<!--タイトル名を 変数式でControllerから取得 -->
		<div class="searchResult_content">
			<div class="results">
				<div class="koalaList">
					<div class="koalaItem" th:each="animal : ${animalList}"
						th:object="${animal}">
						<div class="koalaItem_header">
							<div class="koalaItemName">
								<p th:if="*{sex == 0}">不明</p>
								<img th:if="*{sex == 1}" th:src="@{../images/male.png}"> <img
									th:if="*{sex == 2}" th:src="@{../images/female.png}">
								<p th:text="*{name}"></p>
							</div>
							<div class="koalaItemInfo">
								<p th:text="*{animalZooHistoryList[0].zoo.zoo_name}"
									th:if="*{animalZooHistoryList[0].zoo.zoo_id} == 0"></p>
								<p th:unless="*{animalZooHistoryList[0].zoo.zoo_id} == 0">
									<a
										th:href="@{/zoo/detail/{zoo_id}(zoo_id=*{animalZooHistoryList[0].zoo.zoo_id})}"
										th:text="*{animalZooHistoryList[0].zoo.zoo_name}"> </a>
								</p>
							</div>
						</div>
						<div class="koalaItem_content">
							<div class="koalaItem_image">
								<a th:href="@{/detail/{animal_id}(animal_id=*{animal_id})}">
									<img th:src="@{{Path}(Path = *{profileImagePath})}">
								</a>
							</div>
							<div class="koalaItemData">
								<div class="koalaItemDataList">
									<ul>
										<li><span class="koalaItemDataList_icon birth">生年月日</span>
											<p th:unless="*{stringBirthDate.equals('9999年1月1日')}"
												th:text="*{stringBirthDate}"></p></li>
										<li><span class="koalaItemDataList_icon mother">母親</span>
											<p th:if="*{#strings.isEmpty(motherAnimal.name)}">不明</p>
											<p th:unless="*{#strings.isEmpty(motherAnimal.name)}">
												<a
													th:href="@{/detail/{animal_id}(animal_id=*{motherAnimal.animal_id})}"
													th:text="*{motherAnimal.name}"> </a>
											</p></li>
										<li><span class="koalaItemDataList_icon father">父親</span>
											<p th:if="*{#strings.isEmpty(fatherAnimal.name)}">不明</p>
											<p th:unless="*{#strings.isEmpty(fatherAnimal.name)}">
												<a
													th:href="@{/detail/{animal_id}(animal_id=*{fatherAnimal.animal_id})}"
													th:text="*{fatherAnimal.name}"> </a>
											</p></li>
									</ul>
								</div>

								<div class="links">
									<a class="btn btn-sm btn-info"
										th:href="@{/detail/{animal_id}(animal_id=*{animal_id})}">詳細情報</a>
									<a class="btn btn-sm btn-primary"
										th:href="@{/familytree(id=${animal.animal_id})}">家系図</a>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>
</html>